const _0x2e77c0=_0x59cf;(function(_0x56931b,_0x32f175){const _0x61b871=_0x59cf,_0x5330d2=_0x56931b();while(!![]){try{const _0x3964d3=parseInt(_0x61b871(0x137))/0x1+parseInt(_0x61b871(0x180))/0x2*(-parseInt(_0x61b871(0x194))/0x3)+-parseInt(_0x61b871(0xd9))/0x4*(parseInt(_0x61b871(0x19c))/0x5)+parseInt(_0x61b871(0x132))/0x6*(-parseInt(_0x61b871(0xf8))/0x7)+-parseInt(_0x61b871(0x124))/0x8+-parseInt(_0x61b871(0xcb))/0x9+parseInt(_0x61b871(0x144))/0xa*(parseInt(_0x61b871(0x17e))/0xb);if(_0x3964d3===_0x32f175)break;else _0x5330d2['push'](_0x5330d2['shift']());}catch(_0x50f286){_0x5330d2['push'](_0x5330d2['shift']());}}}(_0x12d1,0xa186f));const DATA={'currency':'‚Çπ','expenseCSV':_0x2e77c0(0x15a),'receiptCSV':_0x2e77c0(0x17a),'contraCSV':_0x2e77c0(0x11e)},currencySymbol=DATA[_0x2e77c0(0x11f)];let expenseData=[],receiptData=[],contraData=[];const pageSize=0x14;let expensePage=0x1,receiptPage=0x1,trendChart,supplierPayableChart,workTypeChart,paidByChart,activePersonLedger=[],activeSupplierLedger=[],activePersonName='',activeSupplierName='';const personLedgerPageSize=0x32;let personLedgerPage=0x1,personLedgerFilteredRows=[];function _0x12d1(){const _0x41196c=['Paid','supplierChartLoader','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22text-end\x22>','data','searchBox','index','trendChart','ledgerTypeFilter','pie','trendChartLoader','/api/expense','All','Project\x20Income\x20(','show','personLedgerTitle','ledgerYearFilter','\x20|\x20Showing\x20Page\x20','personLedgerTable','Contra\x20Out','üß±\x20Work\x20Type\x20Details:\x20','toggle','#personLedgerModal\x20.modal-header','disabled','ledgerNextBtn','text-danger','<tr><td\x20colspan=\x225\x22\x20class=\x22text-center\x22>No\x20receipts\x20data</td></tr>','</option>','ledgerFilterToggleBtn','toUpperCase','receiptTable','supplierProjectFilter','en-IN','push','ledgerMonthFilter','yearFilter','btn\x20btn-sm\x20btn-light\x20me-2','ledgerTotalReceipts','totalPaid','supplierLedgerTitle','toString','ledgerBalance','Amount','/api/receipt','text-success','getElementById','mt-3','3839ykbdeL','Failed\x20to\x20fetch:\x20','1115704vZxtBH','All\x20Months','project','receivedByFilter','Payables','All\x20Projects','netProfit','insertBefore','totalPayables','\x0a\x20\x20\x20\x20<option\x20value=\x22ALL\x22>All\x20Types</option>\x0a\x20\x20\x20\x20<option\x20value=\x22Receipt\x22>Receipt</option>\x0a\x20\x20\x20\x20<option\x20value=\x22Expense\x22>Expense</option>\x0a\x20\x20\x20\x20<option\x20value=\x22Contra\x20In\x22>Contra\x20In</option>\x0a\x20\x20\x20\x20<option\x20value=\x22Contra\x20Out\x22>Contra\x20Out</option>\x0a\x20\x20','Expense','üèó\x20Supplier\x20Ledger:\x20','receiptNextBtn','max','error','Stage','Loading\x20data...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','date_asc','date_desc','3HPyqgO','values','Paid_Amount','forEach','credit','innerWidth','loader_totalExpense','add','20rsWYoi','</td>\x0a\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20','from','supplierPaidByFilter','<tr><td\x20colspan=\x228\x22\x20class=\x22text-center\x22>No\x20expense\x20data</td></tr>','Page\x20','ceil','paidByChartLoader','Month','date','line','Received\x20from\x20Project\x20(','ledgerPageInfo','supplierTotalPayables','supplierWorkTypeFilter','6439851hcnUIB','supplierSearchBox','ledgerPrevBtn','ledgerProjectFilter','personLedgerInfo','supplierYearFilter','\x0a\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','Unknown','From','workTypeModalTable','resize','1900-01-01','onchange','Received_By','860700IACiKw','value','expense','Modal','workTypeModalInfo','expenseSort','profitNote','d-none','Contra\x20In','_runningBalance','receiptSort','mainFilterToggleBtn','expensePrevBtn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22text-end\x20text-success\x20fw-bold\x22>','personLedgerPaginationBar','Work_Type','\x20|\x20','Total_Amount','json','labels','dateText','toLocaleString','mainFilterPanel','<tr><td\x20colspan=\x227\x22\x20class=\x22text-center\x22>No\x20supplier\x20data\x20found</td></tr>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x20flex-wrap\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-outline-dark\x20btn-sm\x22\x20id=\x22ledgerPrevBtn\x22>‚¨Ö\x20Prev</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22small-muted\x20fw-bold\x22\x20id=\x22ledgerPageInfo\x22>Page\x201</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-outline-dark\x20btn-sm\x22\x20id=\x22ledgerNextBtn\x22>Next\x20‚û°</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x20g-3\x20mt-2\x22\x20id=\x22personLedgerPaginationBar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-title\x22>Page\x20Debit</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-value\x20text-success\x22\x20id=\x22ledgerPageDebit\x22>--</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-title\x22>Page\x20Credit</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-value\x20text-danger\x22\x20id=\x22ledgerPageCredit\x22>--</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-card\x20highlight\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-title\x22>Page\x20Balance\x20Change</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-value\x22\x20id=\x22ledgerPageBalanceChange\x22>--</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x20g-3\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-title\x22>Total\x20Receipts</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-value\x20text-success\x22\x20id=\x22ledgerTotalReceipts\x22>--</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-title\x22>Total\x20Expense\x20Paid</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-value\x20text-danger\x22\x20id=\x22ledgerTotalExpensePaid\x22>--</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-title\x22>Contra\x20In</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-value\x20text-success\x22\x20id=\x22ledgerTotalContraIn\x22>--</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-title\x22>Contra\x20Out</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22metric-value\x20text-danger\x22\x20id=\x22ledgerTotalContraOut\x22>--</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','addEventListener','refreshBtn','All\x20Work\x20Types','\x20of\x20','Year','Date','4546444HDLYqi','ledgerPageDebit','loader_totalPayables','classList','ledgerFilterRow','remove','click','projectFilter','destroy','supplierMonthFilter','dashboardSubTitle','<tr><td\x20colspan=\x228\x22\x20class=\x22text-center\x22>No\x20data\x20found</td></tr>','input','expensePageInfo','workTypeChart','sort','supplier','ALL','paidByFilter','All\x20Suppliers','innerHTML','globalLoader','querySelector','supplierFilter','workTypeChartLoader','amount_asc','join','keys','ledgerSupplierFilter','month','<option\x20value=\x22ALL\x22>','trim','className','replace','workTypeModalTitle','map','year','Project:\x20','/api/contra','currency','\x20(Rows:\x20','filter','supplierPayableChart','receipt','5454984WmpOtx','innerText','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22text-end\x20text-danger\x20fw-bold\x22>','contraCSV','receiptCSV','Project','Mode','some','button','ledgerPageCredit','slice','split','refreshSpinner','debit','6PCZqNO','Transfer\x20to\x20','includes','\x20(50\x20rows\x20per\x20page)','change','22133bRDxIu','Supplier','Paid_By','DOMContentLoaded','appendChild','</tr>','supplierLedgerModal','doughnut','length','reduce','ledgerCredit','ledgerTotalContraOut','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22text-end\x20fw-bold\x22>','117620KTmmNY','Received\x20By\x20(All)','loader_totalReceipts','supplierLedgerTable','ledgerSearchBox','Rows:\x20','#personLedgerModal\x20.modal-body','monthFilter','<tr>','toLowerCase','Paid\x20By\x20(All)','type'];_0x12d1=function(){return _0x41196c;};return _0x12d1();}function normalizeText(_0x28f688){const _0xa2f1d5=_0x2e77c0;return(_0x28f688||'')[_0xa2f1d5(0x177)]()['replace'](/\u00A0/g,'\x20')['replace'](/\s+/g,'\x20')[_0xa2f1d5(0x117)]();}function normalizeKey(_0x6c6444){const _0xeafeaa=_0x2e77c0;return normalizeText(_0x6c6444)[_0xeafeaa(0x119)](/\s+/g,'_')['replace'](/[^a-zA-Z0-9_]/g,'');}function cleanRow(_0x53c101){const _0x5c1bbe={};for(let _0x263bf4 in _0x53c101){_0x5c1bbe[normalizeKey(_0x263bf4)]=normalizeText(_0x53c101[_0x263bf4]);}return _0x5c1bbe;}function removeEmptyRows(_0x53a26b){const _0x286028=_0x2e77c0;return _0x53a26b[_0x286028(0x11b)](cleanRow)[_0x286028(0x121)](_0x555856=>Object[_0x286028(0x195)](_0x555856)[_0x286028(0x12b)](_0x120807=>_0x120807!==''));}function toNumber(_0x2dc84d){const _0x10014e=_0x2e77c0;if(_0x2dc84d===null||_0x2dc84d===undefined)return 0x0;let _0x41e9f0=String(_0x2dc84d)[_0x10014e(0x117)]();if(_0x41e9f0==='')return 0x0;_0x41e9f0=_0x41e9f0[_0x10014e(0x119)](/INR/gi,''),_0x41e9f0=_0x41e9f0['replace'](/‚Çπ/g,''),_0x41e9f0=_0x41e9f0[_0x10014e(0x119)](/,/g,''),_0x41e9f0=_0x41e9f0[_0x10014e(0x119)](/\s+/g,'');let _0x4174b2=parseFloat(_0x41e9f0);if(isNaN(_0x4174b2))return 0x0;return _0x4174b2;}function formatMoney(_0x130843){const _0xfb9c62=_0x2e77c0;if(_0x130843===null||_0x130843===undefined||isNaN(_0x130843))return'0.00';return Number(_0x130843)[_0xfb9c62(0xee)](_0xfb9c62(0x16f),{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2});}function money(_0x50440c){return currencySymbol+'\x20'+formatMoney(_0x50440c);}function parseDateValue(_0x13e7c1){const _0x93440a=_0x2e77c0;if(!_0x13e7c1)return new Date(_0x93440a(0xd6));const _0x34f3d9=_0x13e7c1[_0x93440a(0x12f)]('-');if(_0x34f3d9[_0x93440a(0x13f)]>=0x3){const _0x500a7c=_0x34f3d9[0x0],_0x554618=_0x34f3d9[0x1],_0x2d37e3=_0x34f3d9[0x2][_0x93440a(0x13f)]===0x2?'20'+_0x34f3d9[0x2]:_0x34f3d9[0x2];return new Date(_0x500a7c+'\x20'+_0x554618+'\x20'+_0x2d37e3);}return new Date(_0x13e7c1);}function cleanAccountName(_0x5d4d3d){const _0x40295e=_0x2e77c0;if(!_0x5d4d3d)return'';return _0x5d4d3d[_0x40295e(0x177)]()[_0x40295e(0x117)]()['replace'](/\s+/g,'\x20')['toLowerCase']()['replace'](/\b\w/g,_0x2b461d=>_0x2b461d[_0x40295e(0x16c)]());}function monthYearToDate(_0x1da3f8){const _0x50da56=_0x2e77c0;if(!_0x1da3f8)return new Date(_0x50da56(0xd6));const _0x33e29b=_0x1da3f8[_0x50da56(0x117)]()[_0x50da56(0x12f)]('\x20');if(_0x33e29b[_0x50da56(0x13f)]<0x2)return new Date('1900-01-01');const _0xeb97c9=_0x33e29b[0x0],_0x191e02=_0x33e29b[0x1];return new Date(_0xeb97c9+'\x2001,\x20'+_0x191e02);}async function parseCSV(_0x19b482){const _0x5e0ad2=_0x2e77c0,_0x87c78d=await fetch(_0x19b482);if(!_0x87c78d['ok'])throw new Error(_0x5e0ad2(0x17f)+_0x19b482);return await _0x87c78d[_0x5e0ad2(0xeb)]();}function showGlobalLoader(){const _0x2d10c1=_0x2e77c0;document[_0x2d10c1(0x17c)]('globalLoader')[_0x2d10c1(0xfb)][_0x2d10c1(0xfd)](_0x2d10c1(0xe0));}function hideGlobalLoader(){const _0x2c8f59=_0x2e77c0;document[_0x2c8f59(0x17c)](_0x2c8f59(0x10d))[_0x2c8f59(0xfb)][_0x2c8f59(0x19b)](_0x2c8f59(0xe0));}function showSummaryLoaders(){const _0x433188=_0x2e77c0,_0x3dd928=[_0x433188(0x19a),'loader_totalPaid',_0x433188(0xfa),_0x433188(0x146),'loader_netProfit'];_0x3dd928[_0x433188(0x197)](_0x238c2e=>{const _0x55f7cf=_0x433188,_0x4b4aa3=document[_0x55f7cf(0x17c)](_0x238c2e);if(_0x4b4aa3)_0x4b4aa3[_0x55f7cf(0xfb)]['remove'](_0x55f7cf(0xe0));});}function hideSummaryLoaders(){const _0xd2166f=_0x2e77c0,_0x491550=['loader_totalExpense','loader_totalPaid',_0xd2166f(0xfa),_0xd2166f(0x146),'loader_netProfit'];_0x491550[_0xd2166f(0x197)](_0x9ca3b=>{const _0x5b23d1=_0xd2166f,_0x2d2882=document[_0x5b23d1(0x17c)](_0x9ca3b);if(_0x2d2882)_0x2d2882['classList']['add'](_0x5b23d1(0xe0));});}function showChartLoaders(){const _0x3e20e9=_0x2e77c0;document[_0x3e20e9(0x17c)](_0x3e20e9(0x159))[_0x3e20e9(0xfb)][_0x3e20e9(0xfd)](_0x3e20e9(0xe0)),document[_0x3e20e9(0x17c)]('supplierChartLoader')[_0x3e20e9(0xfb)]['remove']('d-none'),document['getElementById'](_0x3e20e9(0x110))['classList'][_0x3e20e9(0xfd)]('d-none'),document[_0x3e20e9(0x17c)](_0x3e20e9(0x1a3))[_0x3e20e9(0xfb)][_0x3e20e9(0xfd)]('d-none');}function hideChartLoaders(){const _0x3463ef=_0x2e77c0;document[_0x3463ef(0x17c)](_0x3463ef(0x159))['classList'][_0x3463ef(0x19b)]('d-none'),document[_0x3463ef(0x17c)](_0x3463ef(0x151))[_0x3463ef(0xfb)][_0x3463ef(0x19b)](_0x3463ef(0xe0)),document['getElementById'](_0x3463ef(0x110))['classList']['add'](_0x3463ef(0xe0)),document[_0x3463ef(0x17c)]('paidByChartLoader')[_0x3463ef(0xfb)][_0x3463ef(0x19b)](_0x3463ef(0xe0));}function showTableSkeleton(_0x4b77f1,_0x4227b9,_0x55e150=0xa){const _0x30e5e5=_0x2e77c0,_0x1c3f88=document[_0x30e5e5(0x17c)](_0x4b77f1);let _0xc08909='';for(let _0x5f4d0b=0x0;_0x5f4d0b<_0x55e150;_0x5f4d0b++){_0xc08909+=_0x30e5e5(0x14c);for(let _0x7e9c33=0x0;_0x7e9c33<_0x4227b9;_0x7e9c33++){_0xc08909+='<td><div\x20class=\x22skeleton\x20skeleton-row\x22></div></td>';}_0xc08909+=_0x30e5e5(0x13c);}_0x1c3f88['innerHTML']=_0xc08909;}function _0x59cf(_0x45b5b5,_0x51147c){_0x45b5b5=_0x45b5b5-0xcb;const _0x12d126=_0x12d1();let _0x59cf61=_0x12d126[_0x45b5b5];return _0x59cf61;}function setControlsEnabled(_0x2abf77){const _0x384ad3=_0x2e77c0,_0x1885d3=[_0x384ad3(0xf3),_0x384ad3(0xff),_0x384ad3(0x172),_0x384ad3(0x14b),_0x384ad3(0x10f),_0x384ad3(0x10a),_0x384ad3(0x183),_0x384ad3(0x154),_0x384ad3(0xde),_0x384ad3(0xe3)];_0x1885d3[_0x384ad3(0x197)](_0x3282f2=>{const _0x62fa80=_0x384ad3,_0x5a2477=document[_0x62fa80(0x17c)](_0x3282f2);if(_0x5a2477)_0x5a2477[_0x62fa80(0x166)]=!_0x2abf77;});}function fillDropdown(_0x44b271,_0x480334,_0x5b6399){const _0x3438f5=_0x2e77c0,_0x4ae95d=document[_0x3438f5(0x17c)](_0x44b271);_0x4ae95d[_0x3438f5(0x10c)]=_0x3438f5(0x116)+_0x5b6399+_0x3438f5(0x16a),_0x480334[_0x3438f5(0x197)](_0x3af338=>{const _0x3a5131=_0x3438f5;_0x4ae95d[_0x3a5131(0x10c)]+='<option\x20value=\x22'+_0x3af338+'\x22>'+_0x3af338+'</option>';});}function applyFilters(_0x30c70e,_0xc1b0a4){const _0x9ae136=_0x2e77c0,_0xf46c09=document[_0x9ae136(0x17c)](_0x9ae136(0xff))[_0x9ae136(0xda)],_0x4f8e1c=document['getElementById'](_0x9ae136(0x172))['value'],_0x31fc64=document[_0x9ae136(0x17c)](_0x9ae136(0x14b))[_0x9ae136(0xda)],_0x59da05=document[_0x9ae136(0x17c)]('supplierFilter')[_0x9ae136(0xda)],_0xa4d29=cleanAccountName(document[_0x9ae136(0x17c)](_0x9ae136(0x10a))['value']),_0x538d85=cleanAccountName(document[_0x9ae136(0x17c)](_0x9ae136(0x183))[_0x9ae136(0xda)]),_0x2a7eb2=document[_0x9ae136(0x17c)](_0x9ae136(0x154))[_0x9ae136(0xda)][_0x9ae136(0x117)]()['toLowerCase']();let _0x32cff1=[..._0x30c70e];return _0xf46c09!==_0x9ae136(0x109)&&(_0x32cff1=_0x32cff1[_0x9ae136(0x121)](_0x53bfd8=>(_0x53bfd8[_0x9ae136(0x129)]||'')===_0xf46c09)),_0x4f8e1c!==_0x9ae136(0x109)&&(_0x32cff1=_0x32cff1[_0x9ae136(0x121)](_0x1030ad=>(_0x1030ad[_0x9ae136(0xf6)]||'')===_0x4f8e1c)),_0x31fc64!=='ALL'&&(_0x32cff1=_0x32cff1[_0x9ae136(0x121)](_0x5c69be=>(_0x5c69be['Month']||'')===_0x31fc64)),_0xc1b0a4==='expense'&&(_0x59da05!=='ALL'&&(_0x32cff1=_0x32cff1[_0x9ae136(0x121)](_0x57ceac=>(_0x57ceac[_0x9ae136(0x138)]||'')===_0x59da05)),_0xa4d29!==_0x9ae136(0x15b)&&_0xa4d29!==_0x9ae136(0x109)&&_0xa4d29!==''&&(_0x32cff1=_0x32cff1[_0x9ae136(0x121)](_0x596e70=>cleanAccountName(_0x596e70[_0x9ae136(0x139)])===_0xa4d29))),_0xc1b0a4===_0x9ae136(0x123)&&(_0x538d85!==_0x9ae136(0x15b)&&_0x538d85!=='ALL'&&_0x538d85!==''&&(_0x32cff1=_0x32cff1[_0x9ae136(0x121)](_0x5d1779=>cleanAccountName(_0x5d1779[_0x9ae136(0xd8)])===_0x538d85))),_0x2a7eb2&&(_0x32cff1=_0x32cff1[_0x9ae136(0x121)](_0x481e88=>Object['values'](_0x481e88)[_0x9ae136(0x112)]('\x20')['toLowerCase']()['includes'](_0x2a7eb2))),_0x32cff1;}function fillMainDropdowns(){const _0x3f58be=_0x2e77c0,_0x299dc0=new Set(),_0x14651f=new Set(),_0x5a217a=new Set(),_0x530d23=new Set(),_0x49d795=new Set(),_0x1272b0=new Set();expenseData[_0x3f58be(0x197)](_0x47aa4b=>{const _0x31918a=_0x3f58be;if(_0x47aa4b[_0x31918a(0x129)])_0x299dc0['add'](_0x47aa4b[_0x31918a(0x129)]);if(_0x47aa4b[_0x31918a(0xf6)])_0x14651f[_0x31918a(0x19b)](_0x47aa4b[_0x31918a(0xf6)]);if(_0x47aa4b['Month'])_0x5a217a['add'](_0x47aa4b[_0x31918a(0x1a4)]);if(_0x47aa4b['Supplier'])_0x530d23[_0x31918a(0x19b)](_0x47aa4b[_0x31918a(0x138)]);if(_0x47aa4b['Paid_By'])_0x49d795[_0x31918a(0x19b)](cleanAccountName(_0x47aa4b['Paid_By']));}),receiptData[_0x3f58be(0x197)](_0x36a75d=>{const _0x255896=_0x3f58be;if(_0x36a75d[_0x255896(0x129)])_0x299dc0[_0x255896(0x19b)](_0x36a75d[_0x255896(0x129)]);if(_0x36a75d[_0x255896(0xf6)])_0x14651f[_0x255896(0x19b)](_0x36a75d[_0x255896(0xf6)]);if(_0x36a75d[_0x255896(0x1a4)])_0x5a217a[_0x255896(0x19b)](_0x36a75d[_0x255896(0x1a4)]);if(_0x36a75d[_0x255896(0xd8)])_0x1272b0[_0x255896(0x19b)](cleanAccountName(_0x36a75d[_0x255896(0xd8)]));}),contraData['forEach'](_0x2b3817=>{const _0x417db5=_0x3f58be;if(_0x2b3817[_0x417db5(0xd3)])_0x49d795['add'](cleanAccountName(_0x2b3817[_0x417db5(0xd3)]));if(_0x2b3817['To'])_0x1272b0[_0x417db5(0x19b)](cleanAccountName(_0x2b3817['To']));}),fillDropdown(_0x3f58be(0xff),Array['from'](_0x299dc0)[_0x3f58be(0x107)](),_0x3f58be(0x185)),fillDropdown(_0x3f58be(0x172),Array[_0x3f58be(0x19e)](_0x14651f)[_0x3f58be(0x107)](),'All\x20Years'),fillDropdown(_0x3f58be(0x14b),Array[_0x3f58be(0x19e)](_0x5a217a)[_0x3f58be(0x107)](),_0x3f58be(0x181)),fillDropdown(_0x3f58be(0x10f),Array[_0x3f58be(0x19e)](_0x530d23)[_0x3f58be(0x107)](),_0x3f58be(0x10b)),fillDropdown(_0x3f58be(0x10a),Array[_0x3f58be(0x19e)](_0x49d795)[_0x3f58be(0x107)](),_0x3f58be(0x14e)),fillDropdown(_0x3f58be(0x183),Array[_0x3f58be(0x19e)](_0x1272b0)['sort'](),_0x3f58be(0x145)),document['getElementById'](_0x3f58be(0xff))[_0x3f58be(0xd7)]=resetPagesAndUpdate,document[_0x3f58be(0x17c)]('yearFilter')[_0x3f58be(0xd7)]=resetPagesAndUpdate,document[_0x3f58be(0x17c)](_0x3f58be(0x14b))[_0x3f58be(0xd7)]=resetPagesAndUpdate,document[_0x3f58be(0x17c)]('supplierFilter')[_0x3f58be(0xd7)]=resetPagesAndUpdate,document[_0x3f58be(0x17c)](_0x3f58be(0x10a))[_0x3f58be(0xd7)]=resetPagesAndUpdate,document['getElementById'](_0x3f58be(0x183))['onchange']=resetPagesAndUpdate;}function updateSummary(){const _0x5d232d=_0x2e77c0,_0x9ba5fa=applyFilters(expenseData,'expense'),_0x116f24=applyFilters(receiptData,'receipt'),_0x12cfd9=_0x9ba5fa[_0x5d232d(0x140)]((_0x36430b,_0x5b524f)=>_0x36430b+toNumber(_0x5b524f[_0x5d232d(0xea)]),0x0),_0x271675=_0x9ba5fa[_0x5d232d(0x140)]((_0xbd39e9,_0x4c68fd)=>_0xbd39e9+toNumber(_0x4c68fd[_0x5d232d(0x196)]),0x0),_0x38db92=_0x9ba5fa[_0x5d232d(0x140)]((_0x10f17a,_0x11c4a2)=>_0x10f17a+toNumber(_0x11c4a2['Payables']),0x0),_0x1d67f1=_0x116f24[_0x5d232d(0x140)]((_0x4eced0,_0x296cf5)=>_0x4eced0+toNumber(_0x296cf5[_0x5d232d(0x179)]),0x0);document[_0x5d232d(0x17c)]('totalExpense')[_0x5d232d(0x125)]=money(_0x12cfd9),document[_0x5d232d(0x17c)](_0x5d232d(0x175))[_0x5d232d(0x125)]=money(_0x271675),document['getElementById'](_0x5d232d(0x188))[_0x5d232d(0x125)]=money(_0x38db92),document[_0x5d232d(0x17c)]('totalReceipts')[_0x5d232d(0x125)]=money(_0x1d67f1);const _0x13ec15=document[_0x5d232d(0x17c)](_0x5d232d(0xff))['value'];let _0x26be7d=[...expenseData],_0x166544=[...receiptData];_0x13ec15!==_0x5d232d(0x109)&&(_0x26be7d=_0x26be7d[_0x5d232d(0x121)](_0x2a12b8=>(_0x2a12b8['Project']||'')===_0x13ec15),_0x166544=_0x166544['filter'](_0x80fa30=>(_0x80fa30[_0x5d232d(0x129)]||'')===_0x13ec15));const _0x3806d4=_0x26be7d['reduce']((_0x4265b5,_0x35eabc)=>_0x4265b5+toNumber(_0x35eabc[_0x5d232d(0xea)]),0x0),_0x18353c=_0x166544[_0x5d232d(0x140)]((_0x17cfb7,_0x51d34f)=>_0x17cfb7+toNumber(_0x51d34f[_0x5d232d(0x179)]),0x0),_0x2d66d3=_0x18353c-_0x3806d4,_0x463249=document['getElementById'](_0x5d232d(0x186));_0x463249[_0x5d232d(0x125)]=money(_0x2d66d3),_0x2d66d3<0x0?(_0x463249['classList'][_0x5d232d(0xfd)](_0x5d232d(0x17b)),_0x463249[_0x5d232d(0xfb)][_0x5d232d(0x19b)]('text-danger')):(_0x463249[_0x5d232d(0xfb)]['remove'](_0x5d232d(0x168)),_0x463249[_0x5d232d(0xfb)][_0x5d232d(0x19b)]('text-success')),document['getElementById'](_0x5d232d(0xdf))[_0x5d232d(0x125)]=_0x5d232d(0x15c)+money(_0x18353c)+')\x20-\x20Project\x20Expense\x20('+money(_0x3806d4)+')';}function paginate(_0x10f774,_0x2b4a72){const _0x44cd8e=_0x2e77c0,_0x4a4741=(_0x2b4a72-0x1)*pageSize;return _0x10f774[_0x44cd8e(0x12e)](_0x4a4741,_0x4a4741+pageSize);}function totalPages(_0x2f9c57){const _0x3d1f3d=_0x2e77c0;return Math['max'](0x1,Math[_0x3d1f3d(0x1a2)](_0x2f9c57[_0x3d1f3d(0x13f)]/pageSize));}function resetPagesAndUpdate(){expensePage=0x1,receiptPage=0x1,updateDashboard();}function applySorting(_0x5793ef,_0xabcd22,_0x1b4731){const _0x4e6948=_0x2e77c0;let _0x5588aa=[..._0x5793ef];if(_0xabcd22===_0x4e6948(0x193))_0x5588aa[_0x4e6948(0x107)]((_0x46076e,_0x21685b)=>parseDateValue(_0x21685b['Date'])-parseDateValue(_0x46076e[_0x4e6948(0xf7)]));if(_0xabcd22===_0x4e6948(0x192))_0x5588aa['sort']((_0x4dab01,_0x96f81d)=>parseDateValue(_0x4dab01[_0x4e6948(0xf7)])-parseDateValue(_0x96f81d[_0x4e6948(0xf7)]));if(_0xabcd22==='amount_desc'){if(_0x1b4731===_0x4e6948(0xdb))_0x5588aa['sort']((_0x44956a,_0x31d279)=>toNumber(_0x31d279[_0x4e6948(0xea)])-toNumber(_0x44956a[_0x4e6948(0xea)]));if(_0x1b4731==='receipt')_0x5588aa[_0x4e6948(0x107)]((_0x12ed40,_0x33630f)=>toNumber(_0x33630f['Amount'])-toNumber(_0x12ed40[_0x4e6948(0x179)]));}if(_0xabcd22===_0x4e6948(0x111)){if(_0x1b4731===_0x4e6948(0xdb))_0x5588aa['sort']((_0x22712e,_0x300356)=>toNumber(_0x22712e['Total_Amount'])-toNumber(_0x300356[_0x4e6948(0xea)]));if(_0x1b4731===_0x4e6948(0x123))_0x5588aa[_0x4e6948(0x107)]((_0x5e9b59,_0x15c85b)=>toNumber(_0x5e9b59[_0x4e6948(0x179)])-toNumber(_0x15c85b[_0x4e6948(0x179)]));}return _0x5588aa;}function updateExpenseTable(){const _0xea2c7e=_0x2e77c0;let _0x134632=applyFilters(expenseData,'expense');_0x134632=applySorting(_0x134632,document[_0xea2c7e(0x17c)]('expenseSort')['value'],_0xea2c7e(0xdb));const _0x5a0412=totalPages(_0x134632);if(expensePage>_0x5a0412)expensePage=_0x5a0412;if(expensePage<0x1)expensePage=0x1;const _0xd9affd=paginate(_0x134632,expensePage),_0x3ea9c8=document[_0xea2c7e(0x17c)]('expenseTable');_0x3ea9c8[_0xea2c7e(0x10c)]='',_0xd9affd[_0xea2c7e(0x197)](_0x3b8d1d=>{const _0x5ac12f=_0xea2c7e;_0x3ea9c8[_0x5ac12f(0x10c)]+=_0x5ac12f(0xd1)+(_0x3b8d1d['Date']||'')+_0x5ac12f(0x191)+(_0x3b8d1d[_0x5ac12f(0x129)]||'')+_0x5ac12f(0x191)+(cleanAccountName(_0x3b8d1d['Paid_By'])||'')+_0x5ac12f(0x191)+(_0x3b8d1d[_0x5ac12f(0x138)]||'')+_0x5ac12f(0x191)+(_0x3b8d1d[_0x5ac12f(0xe8)]||'')+_0x5ac12f(0x152)+money(toNumber(_0x3b8d1d[_0x5ac12f(0xea)]))+_0x5ac12f(0xe6)+money(toNumber(_0x3b8d1d['Paid_Amount']))+_0x5ac12f(0x126)+money(toNumber(_0x3b8d1d[_0x5ac12f(0x184)]))+'</td>\x0a\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20';}),_0xd9affd[_0xea2c7e(0x13f)]===0x0&&(_0x3ea9c8[_0xea2c7e(0x10c)]=_0xea2c7e(0x1a0)),document[_0xea2c7e(0x17c)](_0xea2c7e(0x105))[_0xea2c7e(0x125)]=_0xea2c7e(0x1a1)+expensePage+_0xea2c7e(0xf5)+_0x5a0412+_0xea2c7e(0x120)+_0x134632[_0xea2c7e(0x13f)]+')';}function updateReceiptTable(){const _0x107264=_0x2e77c0;let _0x107d4f=applyFilters(receiptData,_0x107264(0x123));_0x107d4f=applySorting(_0x107d4f,document[_0x107264(0x17c)](_0x107264(0xe3))[_0x107264(0xda)],_0x107264(0x123));const _0x42b512=totalPages(_0x107d4f);if(receiptPage>_0x42b512)receiptPage=_0x42b512;if(receiptPage<0x1)receiptPage=0x1;const _0x51e2b2=paginate(_0x107d4f,receiptPage),_0x2b55ce=document[_0x107264(0x17c)](_0x107264(0x16d));_0x2b55ce[_0x107264(0x10c)]='',_0x51e2b2[_0x107264(0x197)](_0xe3d367=>{const _0x344336=_0x107264;_0x2b55ce[_0x344336(0x10c)]+=_0x344336(0xd1)+(_0xe3d367[_0x344336(0xf7)]||'')+_0x344336(0x191)+(_0xe3d367[_0x344336(0x129)]||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xe3d367[_0x344336(0x18f)]||'')+_0x344336(0x191)+(cleanAccountName(_0xe3d367[_0x344336(0xd8)])||'')+_0x344336(0xe6)+money(toNumber(_0xe3d367[_0x344336(0x179)]))+_0x344336(0x19d);}),_0x51e2b2['length']===0x0&&(_0x2b55ce[_0x107264(0x10c)]=_0x107264(0x169)),document[_0x107264(0x17c)]('receiptPageInfo')[_0x107264(0x125)]='Page\x20'+receiptPage+_0x107264(0xf5)+_0x42b512+_0x107264(0x120)+_0x107d4f[_0x107264(0x13f)]+')';}function openSupplierLedgerModal(_0x3639e5){const _0x27297d=_0x2e77c0;activeSupplierName=_0x3639e5,activeSupplierLedger=expenseData[_0x27297d(0x121)](_0x2f58f5=>(_0x2f58f5[_0x27297d(0x138)]||'')===_0x3639e5),buildSupplierLedgerFilters(),renderSupplierLedger(),new bootstrap[(_0x27297d(0xdc))](document[_0x27297d(0x17c)](_0x27297d(0x13d)))[_0x27297d(0x15d)]();}function buildSupplierLedgerFilters(){const _0xd614d1=_0x2e77c0,_0x20abb3=new Set(),_0x183f93=new Set(),_0x58f932=new Set(),_0x251203=new Set(),_0x32035e=new Set();activeSupplierLedger['forEach'](_0x1ddf20=>{const _0x50814a=_0x59cf;if(_0x1ddf20['Project'])_0x20abb3[_0x50814a(0x19b)](_0x1ddf20['Project']);if(_0x1ddf20[_0x50814a(0x1a4)])_0x183f93[_0x50814a(0x19b)](_0x1ddf20['Month']);if(_0x1ddf20[_0x50814a(0xf6)])_0x58f932[_0x50814a(0x19b)](_0x1ddf20[_0x50814a(0xf6)]);if(_0x1ddf20[_0x50814a(0x139)])_0x251203['add'](cleanAccountName(_0x1ddf20[_0x50814a(0x139)]));if(_0x1ddf20['Work_Type'])_0x32035e[_0x50814a(0x19b)](_0x1ddf20[_0x50814a(0xe8)]);}),fillDropdown(_0xd614d1(0x16e),Array['from'](_0x20abb3)[_0xd614d1(0x107)](),'All\x20Projects'),fillDropdown('supplierMonthFilter',Array[_0xd614d1(0x19e)](_0x183f93)[_0xd614d1(0x107)](),_0xd614d1(0x181)),fillDropdown(_0xd614d1(0xd0),Array[_0xd614d1(0x19e)](_0x58f932)[_0xd614d1(0x107)](),'All\x20Years'),fillDropdown('supplierPaidByFilter',Array[_0xd614d1(0x19e)](_0x251203)[_0xd614d1(0x107)](),'Paid\x20By\x20(All)'),fillDropdown(_0xd614d1(0x1aa),Array[_0xd614d1(0x19e)](_0x32035e)[_0xd614d1(0x107)](),_0xd614d1(0xf4)),document[_0xd614d1(0x17c)](_0xd614d1(0xcc))['value']='';}function renderSupplierLedger(){const _0x95cf06=_0x2e77c0,_0x478ff2=document[_0x95cf06(0x17c)]('supplierProjectFilter')['value'],_0x411b5e=document[_0x95cf06(0x17c)](_0x95cf06(0x101))[_0x95cf06(0xda)],_0x391df0=document['getElementById'](_0x95cf06(0xd0))[_0x95cf06(0xda)],_0x567c05=document[_0x95cf06(0x17c)](_0x95cf06(0x19f))[_0x95cf06(0xda)],_0x332dba=document[_0x95cf06(0x17c)](_0x95cf06(0x1aa))['value'],_0x3e0866=document[_0x95cf06(0x17c)](_0x95cf06(0xcc))[_0x95cf06(0xda)][_0x95cf06(0x117)]()[_0x95cf06(0x14d)]();let _0x4b87f1=[...activeSupplierLedger];if(_0x478ff2!==_0x95cf06(0x109))_0x4b87f1=_0x4b87f1[_0x95cf06(0x121)](_0x16cf29=>(_0x16cf29[_0x95cf06(0x129)]||'')===_0x478ff2);if(_0x411b5e!==_0x95cf06(0x109))_0x4b87f1=_0x4b87f1[_0x95cf06(0x121)](_0x2f6400=>(_0x2f6400[_0x95cf06(0x1a4)]||'')===_0x411b5e);if(_0x391df0!==_0x95cf06(0x109))_0x4b87f1=_0x4b87f1[_0x95cf06(0x121)](_0x2c5eba=>(_0x2c5eba[_0x95cf06(0xf6)]||'')===_0x391df0);if(_0x567c05!==_0x95cf06(0x109))_0x4b87f1=_0x4b87f1['filter'](_0xd5a04=>cleanAccountName(_0xd5a04[_0x95cf06(0x139)])===_0x567c05);if(_0x332dba!==_0x95cf06(0x109))_0x4b87f1=_0x4b87f1[_0x95cf06(0x121)](_0x6a6804=>(_0x6a6804['Work_Type']||'')===_0x332dba);_0x3e0866&&(_0x4b87f1=_0x4b87f1['filter'](_0x5b3a34=>Object[_0x95cf06(0x195)](_0x5b3a34)[_0x95cf06(0x112)]('\x20')[_0x95cf06(0x14d)]()[_0x95cf06(0x134)](_0x3e0866)));_0x4b87f1[_0x95cf06(0x107)]((_0x47cb94,_0x8f4d4b)=>parseDateValue(_0x8f4d4b[_0x95cf06(0xf7)])-parseDateValue(_0x47cb94[_0x95cf06(0xf7)]));const _0x4a9955=_0x4b87f1['reduce']((_0x5b8cfc,_0x51b438)=>_0x5b8cfc+toNumber(_0x51b438[_0x95cf06(0xea)]),0x0),_0x3bac3d=_0x4b87f1[_0x95cf06(0x140)]((_0x7a10e6,_0x4b6780)=>_0x7a10e6+toNumber(_0x4b6780[_0x95cf06(0x196)]),0x0),_0x2cb75e=_0x4b87f1[_0x95cf06(0x140)]((_0x5c891d,_0x5c2e2a)=>_0x5c891d+toNumber(_0x5c2e2a[_0x95cf06(0x184)]),0x0);document[_0x95cf06(0x17c)](_0x95cf06(0x176))[_0x95cf06(0x125)]=_0x95cf06(0x18b)+activeSupplierName,document[_0x95cf06(0x17c)]('supplierTotalPurchase')[_0x95cf06(0x125)]=money(_0x4a9955),document[_0x95cf06(0x17c)]('supplierTotalPaid')['innerText']=money(_0x3bac3d),document['getElementById'](_0x95cf06(0x1a9))[_0x95cf06(0x125)]=money(_0x2cb75e);const _0xaa056d=document['getElementById'](_0x95cf06(0x147));_0xaa056d[_0x95cf06(0x10c)]='',_0x4b87f1[_0x95cf06(0x197)](_0x486303=>{const _0x37180c=_0x95cf06;_0xaa056d[_0x37180c(0x10c)]+='\x0a\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x486303['Date']||'')+_0x37180c(0x191)+(_0x486303['Project']||'')+_0x37180c(0x191)+(cleanAccountName(_0x486303[_0x37180c(0x139)])||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x486303[_0x37180c(0xe8)]||'')+_0x37180c(0x152)+money(toNumber(_0x486303[_0x37180c(0xea)]))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22text-end\x20text-success\x20fw-bold\x22>'+money(toNumber(_0x486303['Paid_Amount']))+_0x37180c(0x126)+money(toNumber(_0x486303['Payables']))+_0x37180c(0x19d);}),_0x4b87f1[_0x95cf06(0x13f)]===0x0&&(_0xaa056d[_0x95cf06(0x10c)]=_0x95cf06(0xf0)),document[_0x95cf06(0x17c)]('supplierLedgerInfo')['innerText']='Rows:\x20'+_0x4b87f1[_0x95cf06(0x13f)];}function openPersonLedgerModal(_0xea9829){const _0x301f13=_0x2e77c0;activePersonName=cleanAccountName(_0xea9829),activePersonLedger=[],personLedgerPage=0x1,expenseData[_0x301f13(0x197)](_0x20201e=>{const _0x498462=_0x301f13;cleanAccountName(_0x20201e['Paid_By'])===activePersonName&&activePersonLedger[_0x498462(0x170)]({'date':parseDateValue(_0x20201e['Date']),'dateText':_0x20201e[_0x498462(0xf7)]||'','type':_0x498462(0x18a),'project':_0x20201e['Project']||'','supplier':_0x20201e[_0x498462(0x138)]||'','month':_0x20201e[_0x498462(0x1a4)]||'','year':_0x20201e[_0x498462(0xf6)]||'','description':'Paid\x20to\x20'+(_0x20201e[_0x498462(0x138)]||'')+'\x20('+(_0x20201e[_0x498462(0xe8)]||'')+')','debit':0x0,'credit':toNumber(_0x20201e[_0x498462(0x196)])});}),receiptData[_0x301f13(0x197)](_0x57acf5=>{const _0x5b531a=_0x301f13;cleanAccountName(_0x57acf5[_0x5b531a(0xd8)])===activePersonName&&activePersonLedger[_0x5b531a(0x170)]({'date':parseDateValue(_0x57acf5[_0x5b531a(0xf7)]),'dateText':_0x57acf5[_0x5b531a(0xf7)]||'','type':'Receipt','project':_0x57acf5[_0x5b531a(0x129)]||'','supplier':'','month':_0x57acf5[_0x5b531a(0x1a4)]||'','year':_0x57acf5[_0x5b531a(0xf6)]||'','description':_0x5b531a(0x1a7)+(_0x57acf5[_0x5b531a(0x18f)]||'')+')','debit':toNumber(_0x57acf5['Amount']),'credit':0x0});}),contraData[_0x301f13(0x197)](_0x4d9677=>{const _0x27b09b=_0x301f13,_0x582385=cleanAccountName(_0x4d9677[_0x27b09b(0xd3)]),_0x1da46d=cleanAccountName(_0x4d9677['To']),_0x201fed=toNumber(_0x4d9677[_0x27b09b(0x179)]);_0x582385===activePersonName&&activePersonLedger[_0x27b09b(0x170)]({'date':parseDateValue(_0x4d9677[_0x27b09b(0xf7)]),'dateText':_0x4d9677['Date']||'','type':_0x27b09b(0x162),'project':_0x4d9677['Project']||'','supplier':'','month':_0x4d9677[_0x27b09b(0x1a4)]||'','year':_0x4d9677[_0x27b09b(0xf6)]||'','description':_0x27b09b(0x133)+_0x1da46d+'\x20('+(_0x4d9677[_0x27b09b(0x12a)]||'')+')','debit':0x0,'credit':_0x201fed}),_0x1da46d===activePersonName&&activePersonLedger[_0x27b09b(0x170)]({'date':parseDateValue(_0x4d9677['Date']),'dateText':_0x4d9677[_0x27b09b(0xf7)]||'','type':_0x27b09b(0xe1),'project':_0x4d9677[_0x27b09b(0x129)]||'','supplier':'','month':_0x4d9677['Month']||'','year':_0x4d9677[_0x27b09b(0xf6)]||'','description':'Received\x20from\x20'+_0x582385+'\x20('+(_0x4d9677[_0x27b09b(0x12a)]||'')+')','debit':_0x201fed,'credit':0x0});}),buildPersonLedgerFilters(),ensurePersonLedgerUIExtras(),renderPersonLedger(),new bootstrap[(_0x301f13(0xdc))](document['getElementById']('personLedgerModal'))[_0x301f13(0x15d)]();}function buildPersonLedgerFilters(){const _0x39f130=_0x2e77c0,_0xf12475=new Set(),_0x5026b2=new Set(),_0x5d5579=new Set(),_0x1a008a=new Set();activePersonLedger['forEach'](_0x5f1644=>{const _0x302f1d=_0x59cf;if(_0x5f1644['project'])_0xf12475[_0x302f1d(0x19b)](_0x5f1644[_0x302f1d(0x182)]);if(_0x5f1644['supplier'])_0x5026b2[_0x302f1d(0x19b)](_0x5f1644['supplier']);if(_0x5f1644['month'])_0x5d5579[_0x302f1d(0x19b)](_0x5f1644[_0x302f1d(0x115)]);if(_0x5f1644[_0x302f1d(0x11c)])_0x1a008a[_0x302f1d(0x19b)](_0x5f1644[_0x302f1d(0x11c)]);}),fillDropdown(_0x39f130(0xce),Array[_0x39f130(0x19e)](_0xf12475)[_0x39f130(0x107)](),_0x39f130(0x185)),fillDropdown(_0x39f130(0x114),Array[_0x39f130(0x19e)](_0x5026b2)[_0x39f130(0x107)](),_0x39f130(0x10b)),fillDropdown(_0x39f130(0x171),Array[_0x39f130(0x19e)](_0x5d5579)[_0x39f130(0x107)](),_0x39f130(0x181)),fillDropdown('ledgerYearFilter',Array[_0x39f130(0x19e)](_0x1a008a)[_0x39f130(0x107)](),'All\x20Years'),document[_0x39f130(0x17c)]('ledgerTypeFilter')[_0x39f130(0x10c)]=_0x39f130(0x189),document[_0x39f130(0x17c)](_0x39f130(0x148))['value']='';}function ensurePersonLedgerUIExtras(){const _0x10a0f6=_0x2e77c0,_0x4acb0a=document[_0x10a0f6(0x10e)](_0x10a0f6(0x165));if(_0x4acb0a&&!document[_0x10a0f6(0x17c)](_0x10a0f6(0x16b))){const _0x1f5347=document['createElement'](_0x10a0f6(0x12c));_0x1f5347['id']=_0x10a0f6(0x16b),_0x1f5347['className']=_0x10a0f6(0x173),_0x1f5347[_0x10a0f6(0x14f)]=_0x10a0f6(0x12c),_0x1f5347[_0x10a0f6(0x10c)]='‚ò∞\x20Filters',_0x1f5347['onclick']=()=>{const _0x50a15f=_0x10a0f6,_0x459e52=document['getElementById'](_0x50a15f(0xfc));if(!_0x459e52)return;_0x459e52[_0x50a15f(0xfb)][_0x50a15f(0x164)](_0x50a15f(0xe0));};const _0x5f1ffe=_0x4acb0a[_0x10a0f6(0x10e)]('.btn-close');_0x4acb0a[_0x10a0f6(0x187)](_0x1f5347,_0x5f1ffe);}const _0x45e91c=document[_0x10a0f6(0x10e)]('#personLedgerModal\x20.modal-body\x20.row.g-2.mb-3');_0x45e91c&&!_0x45e91c['id']&&(_0x45e91c['id']='ledgerFilterRow');const _0x4963a7=document[_0x10a0f6(0x10e)](_0x10a0f6(0x14a));if(!_0x4963a7)return;if(!document[_0x10a0f6(0x17c)](_0x10a0f6(0xe7))){const _0x277e43=document['createElement']('div');_0x277e43[_0x10a0f6(0x118)]=_0x10a0f6(0x17d),_0x277e43['innerHTML']=_0x10a0f6(0xf1),_0x4963a7[_0x10a0f6(0x13b)](_0x277e43),document['getElementById'](_0x10a0f6(0xcd))[_0x10a0f6(0xf2)](_0x10a0f6(0xfe),()=>{personLedgerPage--,renderPersonLedger();}),document[_0x10a0f6(0x17c)](_0x10a0f6(0x167))['addEventListener'](_0x10a0f6(0xfe),()=>{personLedgerPage++,renderPersonLedger();});}}function getFilteredPersonLedgerRows(){const _0x52d88c=_0x2e77c0,_0x190d24=document[_0x52d88c(0x17c)](_0x52d88c(0xce))[_0x52d88c(0xda)],_0x58de7a=document['getElementById']('ledgerSupplierFilter')['value'],_0x4c4419=document[_0x52d88c(0x17c)](_0x52d88c(0x171))['value'],_0x12e2a2=document[_0x52d88c(0x17c)]('ledgerYearFilter')[_0x52d88c(0xda)],_0x28a29d=document[_0x52d88c(0x17c)](_0x52d88c(0x157))['value'],_0x10fdf7=document[_0x52d88c(0x17c)]('ledgerSearchBox')[_0x52d88c(0xda)][_0x52d88c(0x117)]()[_0x52d88c(0x14d)]();let _0x144e14=[...activePersonLedger];if(_0x190d24!=='ALL')_0x144e14=_0x144e14[_0x52d88c(0x121)](_0x3db7de=>_0x3db7de[_0x52d88c(0x182)]===_0x190d24);if(_0x58de7a!==_0x52d88c(0x109))_0x144e14=_0x144e14[_0x52d88c(0x121)](_0x17bb17=>_0x17bb17[_0x52d88c(0x108)]===_0x58de7a);if(_0x4c4419!==_0x52d88c(0x109))_0x144e14=_0x144e14[_0x52d88c(0x121)](_0x212167=>_0x212167[_0x52d88c(0x115)]===_0x4c4419);if(_0x12e2a2!==_0x52d88c(0x109))_0x144e14=_0x144e14[_0x52d88c(0x121)](_0x4b5097=>_0x4b5097[_0x52d88c(0x11c)]===_0x12e2a2);if(_0x28a29d!=='ALL')_0x144e14=_0x144e14[_0x52d88c(0x121)](_0x5aaf43=>_0x5aaf43[_0x52d88c(0x14f)]===_0x28a29d);return _0x10fdf7&&(_0x144e14=_0x144e14[_0x52d88c(0x121)](_0x58fcd8=>Object[_0x52d88c(0x195)](_0x58fcd8)['join']('\x20')[_0x52d88c(0x14d)]()[_0x52d88c(0x134)](_0x10fdf7))),_0x144e14[_0x52d88c(0x107)]((_0x2900ca,_0x233d04)=>_0x2900ca['date']-_0x233d04[_0x52d88c(0x1a5)]),_0x144e14;}function paginatePersonLedger(_0x1f7b43,_0x1f0e4f){const _0xd518c9=_0x2e77c0,_0x3c45a9=(_0x1f0e4f-0x1)*personLedgerPageSize;return _0x1f7b43[_0xd518c9(0x12e)](_0x3c45a9,_0x3c45a9+personLedgerPageSize);}function personLedgerTotalPages(_0x29bf16){const _0x338e75=_0x2e77c0;return Math[_0x338e75(0x18d)](0x1,Math['ceil'](_0x29bf16[_0x338e75(0x13f)]/personLedgerPageSize));}function renderPersonLedger(){const _0x5fd8c5=_0x2e77c0,_0x2805c3=getFilteredPersonLedgerRows();personLedgerFilteredRows=_0x2805c3;const _0x4260c3=personLedgerTotalPages(_0x2805c3);if(personLedgerPage>_0x4260c3)personLedgerPage=_0x4260c3;if(personLedgerPage<0x1)personLedgerPage=0x1;const _0x450da0=paginatePersonLedger(_0x2805c3,personLedgerPage);let _0x1020b1=0x0,_0x3eb8b3=0x0,_0x3e671b=0x0,_0x40c55c=0x0,_0x560b3f=0x0,_0x1d1ebf=0x0;_0x2805c3[_0x5fd8c5(0x197)](_0xe005c1=>{const _0x2f2d0d=_0x5fd8c5;_0x1020b1+=_0xe005c1['debit'],_0x3eb8b3+=_0xe005c1[_0x2f2d0d(0x198)];if(_0xe005c1[_0x2f2d0d(0x14f)]==='Receipt')_0x3e671b+=_0xe005c1[_0x2f2d0d(0x131)];if(_0xe005c1[_0x2f2d0d(0x14f)]==='Expense')_0x40c55c+=_0xe005c1['credit'];if(_0xe005c1[_0x2f2d0d(0x14f)]===_0x2f2d0d(0xe1))_0x560b3f+=_0xe005c1[_0x2f2d0d(0x131)];if(_0xe005c1[_0x2f2d0d(0x14f)]===_0x2f2d0d(0x162))_0x1d1ebf+=_0xe005c1['credit'];});let _0x314171=0x0,_0x529087=0x0;_0x450da0['forEach'](_0x44f195=>{const _0x3ca392=_0x5fd8c5;_0x314171+=_0x44f195[_0x3ca392(0x131)],_0x529087+=_0x44f195[_0x3ca392(0x198)];});let _0x353119=0x0;const _0x42143c=document[_0x5fd8c5(0x17c)](_0x5fd8c5(0x161));_0x42143c[_0x5fd8c5(0x10c)]='',_0x2805c3[_0x5fd8c5(0x197)]((_0x288977,_0x1a74fe)=>{const _0x5169e2=_0x5fd8c5;_0x353119+=_0x288977[_0x5169e2(0x131)]-_0x288977['credit'],_0x288977[_0x5169e2(0xe2)]=_0x353119;}),_0x450da0[_0x5fd8c5(0x197)](_0x493ac5=>{const _0x567873=_0x5fd8c5;_0x42143c['innerHTML']+=_0x567873(0xd1)+_0x493ac5[_0x567873(0xed)]+_0x567873(0x191)+_0x493ac5['type']+_0x567873(0x191)+_0x493ac5['project']+_0x567873(0x191)+(_0x493ac5[_0x567873(0x108)]||'')+_0x567873(0x191)+_0x493ac5['description']+_0x567873(0xe6)+(_0x493ac5[_0x567873(0x131)]?money(_0x493ac5[_0x567873(0x131)]):'')+_0x567873(0x126)+(_0x493ac5[_0x567873(0x198)]?money(_0x493ac5[_0x567873(0x198)]):'')+_0x567873(0x143)+money(_0x493ac5[_0x567873(0xe2)])+_0x567873(0x19d);});_0x2805c3['length']===0x0&&(_0x42143c[_0x5fd8c5(0x10c)]='<tr><td\x20colspan=\x228\x22\x20class=\x22text-center\x22>No\x20ledger\x20data\x20found</td></tr>');document[_0x5fd8c5(0x17c)](_0x5fd8c5(0x15e))[_0x5fd8c5(0x125)]='üë§\x20Account\x20Ledger:\x20'+activePersonName,document[_0x5fd8c5(0x17c)]('ledgerDebit')[_0x5fd8c5(0x125)]=money(_0x1020b1),document[_0x5fd8c5(0x17c)](_0x5fd8c5(0x141))['innerText']=money(_0x3eb8b3),document[_0x5fd8c5(0x17c)](_0x5fd8c5(0x178))['innerText']=money(_0x1020b1-_0x3eb8b3),document[_0x5fd8c5(0x17c)](_0x5fd8c5(0xcf))[_0x5fd8c5(0x125)]=_0x5fd8c5(0x149)+_0x2805c3['length']+_0x5fd8c5(0x160)+personLedgerPage+'/'+_0x4260c3+_0x5fd8c5(0x135);const _0x425268=document['getElementById'](_0x5fd8c5(0x1a8));_0x425268&&(_0x425268['innerText']=_0x5fd8c5(0x1a1)+personLedgerPage+'\x20of\x20'+_0x4260c3+_0x5fd8c5(0x120)+_0x2805c3[_0x5fd8c5(0x13f)]+')');const _0x593165=document[_0x5fd8c5(0x17c)](_0x5fd8c5(0xf9)),_0x4e9c24=document[_0x5fd8c5(0x17c)](_0x5fd8c5(0x12d)),_0x6ed7c8=document[_0x5fd8c5(0x17c)]('ledgerPageBalanceChange');if(_0x593165)_0x593165[_0x5fd8c5(0x125)]=money(_0x314171);if(_0x4e9c24)_0x4e9c24[_0x5fd8c5(0x125)]=money(_0x529087);if(_0x6ed7c8)_0x6ed7c8[_0x5fd8c5(0x125)]=money(_0x314171-_0x529087);const _0x3674f0=document['getElementById'](_0x5fd8c5(0x174)),_0x3a2247=document[_0x5fd8c5(0x17c)]('ledgerTotalExpensePaid'),_0x5b3e00=document['getElementById']('ledgerTotalContraIn'),_0x388e76=document[_0x5fd8c5(0x17c)](_0x5fd8c5(0x142));if(_0x3674f0)_0x3674f0[_0x5fd8c5(0x125)]=money(_0x3e671b);if(_0x3a2247)_0x3a2247[_0x5fd8c5(0x125)]=money(_0x40c55c);if(_0x5b3e00)_0x5b3e00['innerText']=money(_0x560b3f);if(_0x388e76)_0x388e76[_0x5fd8c5(0x125)]=money(_0x1d1ebf);}function openWorkTypeModal(_0x4960ec){const _0x5b27ac=_0x2e77c0;let _0x49bb24=applyFilters(expenseData,_0x5b27ac(0xdb));_0x49bb24=_0x49bb24[_0x5b27ac(0x121)](_0x169e1d=>(_0x169e1d[_0x5b27ac(0xe8)]||'')===_0x4960ec),document[_0x5b27ac(0x17c)](_0x5b27ac(0x11a))['innerText']=_0x5b27ac(0x163)+_0x4960ec;const _0x172282=document['getElementById'](_0x5b27ac(0xd4));_0x172282[_0x5b27ac(0x10c)]='',_0x49bb24[_0x5b27ac(0x197)](_0x4cc9a3=>{const _0x2c37e5=_0x5b27ac;_0x172282[_0x2c37e5(0x10c)]+=_0x2c37e5(0xd1)+(_0x4cc9a3[_0x2c37e5(0xf7)]||'')+_0x2c37e5(0x191)+(_0x4cc9a3['Project']||'')+_0x2c37e5(0x191)+(cleanAccountName(_0x4cc9a3[_0x2c37e5(0x139)])||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x4cc9a3['Supplier']||'')+_0x2c37e5(0x191)+(_0x4cc9a3[_0x2c37e5(0xe8)]||'')+_0x2c37e5(0x152)+money(toNumber(_0x4cc9a3[_0x2c37e5(0xea)]))+_0x2c37e5(0xe6)+money(toNumber(_0x4cc9a3[_0x2c37e5(0x196)]))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22text-end\x20text-danger\x20fw-bold\x22>'+money(toNumber(_0x4cc9a3[_0x2c37e5(0x184)]))+_0x2c37e5(0x19d);}),_0x49bb24[_0x5b27ac(0x13f)]===0x0&&(_0x172282[_0x5b27ac(0x10c)]=_0x5b27ac(0x103)),document[_0x5b27ac(0x17c)](_0x5b27ac(0xdd))[_0x5b27ac(0x125)]=_0x5b27ac(0x149)+_0x49bb24[_0x5b27ac(0x13f)],new bootstrap['Modal'](document[_0x5b27ac(0x17c)]('workTypeModal'))[_0x5b27ac(0x15d)]();}function updateCharts(){const _0x369c2f=_0x2e77c0,_0x2a8b68=applyFilters(expenseData,_0x369c2f(0xdb)),_0x46e61f=applyFilters(receiptData,_0x369c2f(0x123)),_0x41bb31={},_0x291c53={};_0x2a8b68['forEach'](_0x2b750=>{const _0x245e76=_0x369c2f,_0x598f0c=((_0x2b750[_0x245e76(0x1a4)]||'')+'\x20'+(_0x2b750['Year']||''))[_0x245e76(0x117)]();if(!_0x598f0c)return;_0x41bb31[_0x598f0c]=(_0x41bb31[_0x598f0c]||0x0)+toNumber(_0x2b750[_0x245e76(0xea)]);}),_0x46e61f[_0x369c2f(0x197)](_0x4fc0a7=>{const _0x270f9e=_0x369c2f,_0x244327=((_0x4fc0a7['Month']||'')+'\x20'+(_0x4fc0a7[_0x270f9e(0xf6)]||''))[_0x270f9e(0x117)]();if(!_0x244327)return;_0x291c53[_0x244327]=(_0x291c53[_0x244327]||0x0)+toNumber(_0x4fc0a7['Amount']);});const _0x50cece=Array[_0x369c2f(0x19e)](new Set([...Object[_0x369c2f(0x113)](_0x41bb31),...Object['keys'](_0x291c53)]))[_0x369c2f(0x121)](_0x5ef461=>_0x5ef461)['sort']((_0x1cabc5,_0x3cf698)=>monthYearToDate(_0x1cabc5)-monthYearToDate(_0x3cf698)),_0xd22ba8=_0x50cece[_0x369c2f(0x11b)](_0x39476d=>_0x41bb31[_0x39476d]||0x0),_0x57630a=_0x50cece[_0x369c2f(0x11b)](_0x279a2c=>_0x291c53[_0x279a2c]||0x0);if(trendChart)trendChart[_0x369c2f(0x100)]();trendChart=new Chart(document['getElementById'](_0x369c2f(0x156)),{'type':_0x369c2f(0x1a6),'data':{'labels':_0x50cece,'datasets':[{'label':'Expense','data':_0xd22ba8,'tension':0.3},{'label':'Receipts','data':_0x57630a,'tension':0.3}]}});const _0x3ffe6b={};_0x2a8b68[_0x369c2f(0x197)](_0x1ca3d7=>{const _0x19ba34=_0x369c2f,_0x25d1c4=_0x1ca3d7[_0x19ba34(0x138)]||_0x19ba34(0xd2);_0x3ffe6b[_0x25d1c4]=(_0x3ffe6b[_0x25d1c4]||0x0)+toNumber(_0x1ca3d7[_0x19ba34(0x184)]);});const _0x2ca66c=Object[_0x369c2f(0x113)](_0x3ffe6b)[_0x369c2f(0x107)]((_0x1fb02e,_0x15f29b)=>_0x3ffe6b[_0x15f29b]-_0x3ffe6b[_0x1fb02e])[_0x369c2f(0x12e)](0x0,0xc),_0x36d6a8=_0x2ca66c['map'](_0x43cc31=>_0x3ffe6b[_0x43cc31]);if(supplierPayableChart)supplierPayableChart[_0x369c2f(0x100)]();supplierPayableChart=new Chart(document[_0x369c2f(0x17c)](_0x369c2f(0x122)),{'type':'bar','data':{'labels':_0x2ca66c,'datasets':[{'label':'Payables','data':_0x36d6a8}]},'options':{'onClick':(_0x1b415d,_0x2f53f3)=>{const _0x2c96e5=_0x369c2f;if(!_0x2f53f3[_0x2c96e5(0x13f)])return;const _0x12f979=_0x2f53f3[0x0][_0x2c96e5(0x155)],_0x50c092=supplierPayableChart[_0x2c96e5(0x153)]['labels'][_0x12f979];openSupplierLedgerModal(_0x50c092);}}});const _0x136e7c={};_0x2a8b68['forEach'](_0x360666=>{const _0x25cbb5=_0x369c2f,_0x3b8338=_0x360666['Work_Type']||_0x25cbb5(0xd2);_0x136e7c[_0x3b8338]=(_0x136e7c[_0x3b8338]||0x0)+toNumber(_0x360666[_0x25cbb5(0xea)]);});const _0x1f202d=Object['keys'](_0x136e7c)[_0x369c2f(0x107)]((_0xfd6092,_0x2c8b0e)=>_0x136e7c[_0x2c8b0e]-_0x136e7c[_0xfd6092])[_0x369c2f(0x12e)](0x0,0xa),_0x59381a=_0x1f202d['map'](_0x10a735=>_0x136e7c[_0x10a735]);if(workTypeChart)workTypeChart[_0x369c2f(0x100)]();workTypeChart=new Chart(document[_0x369c2f(0x17c)](_0x369c2f(0x106)),{'type':_0x369c2f(0x13e),'data':{'labels':_0x1f202d,'datasets':[{'label':'Expense','data':_0x59381a}]},'options':{'onClick':(_0x32a3aa,_0x456134)=>{const _0x2a1f0d=_0x369c2f;if(!_0x456134[_0x2a1f0d(0x13f)])return;const _0x5a3508=_0x456134[0x0][_0x2a1f0d(0x155)],_0x1bba26=workTypeChart[_0x2a1f0d(0x153)]['labels'][_0x5a3508];openWorkTypeModal(_0x1bba26);}}});const _0x48d389={};_0x2a8b68[_0x369c2f(0x197)](_0x4ff6c6=>{const _0x201b3c=_0x369c2f,_0x30073b=cleanAccountName(_0x4ff6c6[_0x201b3c(0x139)])||_0x201b3c(0xd2);_0x48d389[_0x30073b]=(_0x48d389[_0x30073b]||0x0)+toNumber(_0x4ff6c6[_0x201b3c(0x196)]);});const _0x5de366=Object[_0x369c2f(0x113)](_0x48d389)[_0x369c2f(0x107)]((_0x390e0a,_0x57de83)=>_0x48d389[_0x57de83]-_0x48d389[_0x390e0a]),_0x3d71a1=_0x5de366['map'](_0x50f261=>_0x48d389[_0x50f261]);if(paidByChart)paidByChart[_0x369c2f(0x100)]();paidByChart=new Chart(document[_0x369c2f(0x17c)]('paidByChart'),{'type':_0x369c2f(0x158),'data':{'labels':_0x5de366,'datasets':[{'label':_0x369c2f(0x150),'data':_0x3d71a1}]},'options':{'onClick':(_0x39b2e6,_0xf6ae16)=>{const _0x2900e2=_0x369c2f;if(!_0xf6ae16[_0x2900e2(0x13f)])return;const _0x76834=_0xf6ae16[0x0]['index'],_0x126127=paidByChart[_0x2900e2(0x153)][_0x2900e2(0xec)][_0x76834];openPersonLedgerModal(_0x126127);}}});}function updateDashboard(){const _0x17f83d=_0x2e77c0;showSummaryLoaders(),showChartLoaders(),updateSummary(),updateExpenseTable(),updateReceiptTable(),setTimeout(()=>{updateCharts(),hideChartLoaders(),hideSummaryLoaders();},0xc8);const _0x26ed29=document['getElementById']('projectFilter')['value'],_0x4516b9=document['getElementById'](_0x17f83d(0x172))[_0x17f83d(0xda)],_0x79661e=document[_0x17f83d(0x17c)](_0x17f83d(0x14b))[_0x17f83d(0xda)];document[_0x17f83d(0x17c)](_0x17f83d(0x102))[_0x17f83d(0x125)]=_0x17f83d(0x11d)+_0x26ed29+_0x17f83d(0xe9)+_0x79661e+_0x17f83d(0xe9)+_0x4516b9;}async function loadAllData(){const _0x39d878=_0x2e77c0;setControlsEnabled(![]),showGlobalLoader(),showSummaryLoaders(),showChartLoaders(),showTableSkeleton('expenseTable',0x8,0xa),showTableSkeleton(_0x39d878(0x16d),0x5,0xa),document[_0x39d878(0x17c)]('refreshSpinner')['classList'][_0x39d878(0xfd)]('d-none'),document[_0x39d878(0x17c)]('dashboardSubTitle')[_0x39d878(0x125)]=_0x39d878(0x190);try{expenseData=removeEmptyRows(await parseCSV(DATA['expenseCSV'])),receiptData=removeEmptyRows(await parseCSV(DATA[_0x39d878(0x128)])),contraData=removeEmptyRows(await parseCSV(DATA[_0x39d878(0x127)])),expenseData[_0x39d878(0x197)](_0x556bf1=>{const _0x2795da=_0x39d878;_0x556bf1[_0x2795da(0x139)]=cleanAccountName(_0x556bf1[_0x2795da(0x139)]);}),receiptData[_0x39d878(0x197)](_0x63c24a=>{const _0x348ed8=_0x39d878;_0x63c24a[_0x348ed8(0xd8)]=cleanAccountName(_0x63c24a[_0x348ed8(0xd8)]);}),contraData[_0x39d878(0x197)](_0xabb9f5=>{const _0x33246a=_0x39d878;_0xabb9f5[_0x33246a(0xd3)]=cleanAccountName(_0xabb9f5[_0x33246a(0xd3)]),_0xabb9f5['To']=cleanAccountName(_0xabb9f5['To']);}),fillMainDropdowns(),resetPagesAndUpdate();}catch(_0x3401c9){alert('Error\x20loading\x20CSV.\x20Check\x20sheet\x20publish\x20settings.'),console[_0x39d878(0x18e)](_0x3401c9);}document[_0x39d878(0x17c)](_0x39d878(0x130))['classList'][_0x39d878(0x19b)](_0x39d878(0xe0)),hideGlobalLoader(),setControlsEnabled(!![]);}document[_0x2e77c0(0x17c)](_0x2e77c0(0xf3))[_0x2e77c0(0xf2)](_0x2e77c0(0xfe),loadAllData),document['getElementById'](_0x2e77c0(0x154))[_0x2e77c0(0xf2)](_0x2e77c0(0x104),resetPagesAndUpdate),document[_0x2e77c0(0x17c)](_0x2e77c0(0xde))['addEventListener']('change',()=>{expensePage=0x1,updateExpenseTable();}),document[_0x2e77c0(0x17c)](_0x2e77c0(0xe3))['addEventListener'](_0x2e77c0(0x136),()=>{receiptPage=0x1,updateReceiptTable();}),document['getElementById']('expenseNextBtn')[_0x2e77c0(0xf2)](_0x2e77c0(0xfe),()=>{expensePage++,updateExpenseTable();}),document['getElementById'](_0x2e77c0(0xe5))[_0x2e77c0(0xf2)]('click',()=>{expensePage--,updateExpenseTable();}),document[_0x2e77c0(0x17c)](_0x2e77c0(0x18c))[_0x2e77c0(0xf2)](_0x2e77c0(0xfe),()=>{receiptPage++,updateReceiptTable();}),document[_0x2e77c0(0x17c)]('receiptPrevBtn')[_0x2e77c0(0xf2)](_0x2e77c0(0xfe),()=>{receiptPage--,updateReceiptTable();}),[_0x2e77c0(0xce),_0x2e77c0(0x114),'ledgerMonthFilter',_0x2e77c0(0x15f),_0x2e77c0(0x157)][_0x2e77c0(0x197)](_0x5a03fc=>document[_0x2e77c0(0x17c)](_0x5a03fc)[_0x2e77c0(0xf2)](_0x2e77c0(0x136),()=>{personLedgerPage=0x1,renderPersonLedger();})),document[_0x2e77c0(0x17c)](_0x2e77c0(0x148))[_0x2e77c0(0xf2)](_0x2e77c0(0x104),()=>{personLedgerPage=0x1,renderPersonLedger();}),[_0x2e77c0(0x16e),'supplierMonthFilter',_0x2e77c0(0xd0),_0x2e77c0(0x19f),_0x2e77c0(0x1aa)][_0x2e77c0(0x197)](_0x11668d=>document[_0x2e77c0(0x17c)](_0x11668d)[_0x2e77c0(0xf2)](_0x2e77c0(0x136),renderSupplierLedger)),document[_0x2e77c0(0x17c)](_0x2e77c0(0xcc))[_0x2e77c0(0xf2)](_0x2e77c0(0x104),renderSupplierLedger);const mainFilterToggleBtn=document[_0x2e77c0(0x17c)](_0x2e77c0(0xe4)),mainFilterPanel=document['getElementById']('mainFilterPanel');mainFilterToggleBtn&&mainFilterPanel&&(window['innerWidth']<0x300&&mainFilterPanel['classList'][_0x2e77c0(0x19b)](_0x2e77c0(0xe0)),mainFilterToggleBtn[_0x2e77c0(0xf2)](_0x2e77c0(0xfe),()=>{const _0x11278a=_0x2e77c0;mainFilterPanel['classList'][_0x11278a(0x164)](_0x11278a(0xe0));}),window[_0x2e77c0(0xf2)](_0x2e77c0(0xd5),()=>{const _0x543080=_0x2e77c0;window[_0x543080(0x199)]>=0x300?mainFilterPanel[_0x543080(0xfb)]['remove'](_0x543080(0xe0)):mainFilterPanel[_0x543080(0xfb)][_0x543080(0x19b)](_0x543080(0xe0));}));document[_0x2e77c0(0xf2)](_0x2e77c0(0x13a),()=>{const _0x5b6709=_0x2e77c0,_0x2261f2=document['getElementById'](_0x5b6709(0xe4)),_0x3f7c1b=document[_0x5b6709(0x17c)](_0x5b6709(0xef));if(!_0x2261f2||!_0x3f7c1b)return;_0x2261f2[_0x5b6709(0xf2)]('click',()=>{const _0xde278e=_0x5b6709;_0x3f7c1b[_0xde278e(0xfb)]['toggle']('show-mobile');});}),loadAllData();
